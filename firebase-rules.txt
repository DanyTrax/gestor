// Reglas de Firestore para Gestor de Cobros
// Copia estas reglas en la consola de Firebase > Firestore > Rules

rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Reglas más permisivas para desarrollo
    match /artifacts/{appId}/public/data/{collection}/{document} {
      // Permitir lectura y escritura para usuarios autenticados
      allow read, write: if request.auth != null;
    }
    
    // Reglas específicas para usuarios
    match /artifacts/{appId}/public/data/users/{userId} {
      // Permitir lectura y escritura si el usuario está autenticado
      allow read, write: if request.auth != null;
    }
    
    // Reglas para servicios
    match /artifacts/{appId}/public/data/services/{serviceId} {
      allow read, write: if request.auth != null;
    }
    
    // Reglas para configuración
    match /artifacts/{appId}/public/data/settings/{settingId} {
      allow read, write: if request.auth != null;
    }
    
    // Reglas para plantillas
    match /artifacts/{appId}/public/data/messageTemplates/{templateId} {
      allow read, write: if request.auth != null;
    }
    
    // Reglas para historial
    match /artifacts/{appId}/public/data/messageHistory/{messageId} {
      allow read, write: if request.auth != null;
    }
  }
}
